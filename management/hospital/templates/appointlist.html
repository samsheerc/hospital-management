{% load static %}
{% include 'inc/Navbar.html' %}

<!-- CSS Styles -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<!-- JavaScript Libraries -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Font Awesome CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">



<!-- Page Header Start -->
<div class="container-fluid page-header py-5 mb-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="container py-5">
        <h1 class="display-3 text-white mb-3 animated slideInDown">Appointment</h1>
        <nav aria-label="breadcrumb animated slideInDown">
            <ol class="breadcrumb text-uppercase mb-0">
                <li class="breadcrumb-item"><a class="text-white" href="#">Home</a></li>
                <li class="breadcrumb-item"><a class="text-white" href="#">Pages</a></li>
                <li class="breadcrumb-item text-primary active" aria-current="page">Appointment</li>
            </ol>
        </nav>
    </div>
</div>
<!-- Page Header End -->


<!-- Appointment Start -->


<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5">
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.1s">
                <p class="d-inline-block border rounded-pill py-1 px-4">Appointment</p>
                <h1 class="mb-4">Appointment List all doctors</h1>
                <style>
                    /* Table styles */
                    table {
                        width: 100%;
                        border-collapse: collapse;
                        font-family: Arial, sans-serif;
                        border-radius: 12px;
                        overflow: hidden;
                        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    }
            
                    thead {
                        background-color: #4CAF50; /* Green */
                        color: white;
                    }
            
                    th, td {
                        padding: 15px;
                        text-align: left;
                        border-bottom: 1px solid #ddd;
                    }
            
                    /* Button styles */
                    .action-button {
                        border: none;
                        color: white;
                        padding: 8px 16px;
                        text-align: center;
                        text-decoration: none;
                        display: inline-block;
                        font-size: 16px;
                        margin: 4px 2px;
                        transition-duration: 0.4s;
                        cursor: pointer;
                        border-radius: 4px;
                        border: 1px solid transparent;
                        transition: background-color 0.3s ease-in-out;
                    }
            
                    .edit-button {
                        background-color: #008CBA; /* Blue */
                    }
            
                    .delete-button {
                        background-color: #f44336; /* Red */
                    }
            
                    .action-button:hover {
                        border: 1px solid white;
                    }
            
                    /* Hover effect for table rows */
                    tbody tr:hover {
                        background-color: #f5f5f5; /* Light Gray */
                    }
            
                    .edit-button:hover,
                    .delete-button:hover {
                        opacity: 0.8;
                    }
                   

/* Edit and delete button styles */
/* Edit button styles */
.edit {
    margin-right: 5px;
    color: #ff0000; /* Red color */
}

.edit:hover {
    color: #ff9999; /* Lighter red color on hover */
}

/* Delete button styles */
.delete {
    margin-right: 5px;
    color: #007bff; /* Blue color */
}

.delete:hover {
    color: #0056b3; /* Darker blue color on hover */
}

/* Table styles */
.table {
    width: 100%;
    border-collapse: collapse;
}

.table th,
.table td {
    padding: 8px;
    border-bottom: 1px solid #ddd;
}

.table th {
    text-align: left;
}

/* Highlight on hover */
.table tbody tr:hover {
    background-color: #f5f5f5;
}
</style>
</head>


                </style>
            </head>
            <body>
                <table>
                    <thead>
                        <tr>
                            <th style="border-top-left-radius: 8px;">Token ID</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Doctor</th>
                            <th>Booked Date</th>
                            <th>Time</th>
                            <th>Description</th>
                            <th>ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for appointment in appointments %}
                        <tr>
                            <td>{{ appointment.id }}</td>
                            <td>{{ appointment.name }}</td>
                            <td>{{ appointment.email }}</td>
                            <td>{{ appointment.phone }}</td>
                            <td>{{ appointment.doctor }}</td>
                            <td>{{ appointment.booked }}</td>
                            <td>{{ appointment.time }}</td>
                            <td>{{ appointment.desc }}</td>
                
                            <td>
                                <a href="#" class="edit" data-toggle="modal" data-target="#editModal"><i class="fas fa-edit"></i></a>
                                <a href="#" class="delete" data-toggle="modal" data-target="#deleteModal"><i class="fas fa-trash-alt"></i></a>
                            </td>

                            <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="editModalLabel">Edit Appointment</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <!-- Form for editing appointment details -->
                                            <form id="editForm">
                                                
                                                <div class="form-group">
                                                    <label for="editEmail"> name </label>
                                                    <input type="email" class="form-control" id="editEmail" name="email">
                                                </div>
                                                <div class="form-group">
                                                    <label for="editPhone">email </label>
                                                    <input type="tel" class="form-control" id="editPhone" name="phone">
                                                </div>
                                                <div class="form-group">
                                                    <label for="editDoctor">phone </label>
                                                    <input type="text" class="form-control" id="editDoctor" name="doctor">
                                                </div>
                                                <div class="form-group">
                                                    <label for="editBooked"> doctor </label>
                                                    <input type="text" class="form-control" id="editBooked" name="booked">
                                                </div>
                                                <div class="form-group">
                                                    <label for="editTime">booked </label>
                                                    <input type="text" class="form-control" id="editTime" name="time">
                                                </div>
                                                <div class="form-group">
                                                    <label for="editTime">time </label>
                                                    <input type="text" class="form-control" id="editTime" name="time">
                                                </div>
                                                <div class="form-group">
                                                    <label for="editDesc">desc </label>
                                                    <textarea class="form-control" id="editDesc" name="desc" rows="3"></textarea>
                                                </div>
                                            </form>
                                        </div>

                                            <!-- You can include form fields for editing appointment details here -->
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-primary">Save changes</button>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="deleteModalLabel">Delete Appointment</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            Are you sure you want to delete this appointment?
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="button" class="btn btn-danger">Delete</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                    </tr>				
                        {% endfor %}
                    </tbody>
                </table>
            </body>
            </html>

      <!-- Footer Start -->
    
    


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-circle back-to-top"><i class="bi bi-arrow-up"></i></a>


    <!-- JavaScript Libraries -->


    <!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

<script>
    // JavaScript to handle edit and delete actions
    $(document).ready(function() {
        // Edit button click event
        $('.edit').click(function() {
            // Retrieve appointment details and populate the edit modal
            var appointmentId = $(this).closest('tr').find('td:first').text();
            // You can use appointmentId to fetch appointment details via AJAX if needed
            // Then populate the edit modal with the fetched details
            // Example:
            // $.get('/appointments/' + appointmentId, function(data) {
            //     // Populate edit modal fields with data
            // });
        });// JavaScript to handle saving changes in the edit modal
$(document).ready(function() {
    // Save changes button click event inside the edit modal
    $('#editModal .btn-primary').click(function() {
        // Here you can add your code to save the changes, for example, via AJAX
        // Once the changes are saved successfully, you can redirect the user or perform any other action
        // Example:
        // $.post('/appointments/update', $('#editForm').serialize(), function(data) {
        //     // Handle success or error
        //     // Redirect the user to a different page
        //     window.location.href = '/appointments';
        // });
        
        // For now, let's just close the modal as an example
        $('#editModal').modal('hide');
    });
});


        // Delete button click event
        $('.delete').click(function() {
            // Retrieve appointment id and show delete confirmation modal
            var appointmentId = $(this).closest('tr').find('td:first').text();
            $('#deleteModal').modal('show');
            // Optionally, you can pass appointmentId to the delete modal for further processing
            // Example:
            // $('#deleteModal').data('appointmentId', appointmentId);
        });

        // Confirm delete button click event
        $('#deleteModal .btn-danger').click(function() {
            // Retrieve appointment id from modal data and perform delete operation
            var appointmentId = $(this).closest('.modal-content').data('appointmentId');
            // Perform delete operation using AJAX or form submission
            // Example:
            // $.post('/appointments/delete', { id: appointmentId }, function() {
            //     // Handle success or error
            // });
        });
    });
</script>

    <!-- Font Awesome JavaScript (optional) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'lib/wow/wow.min.js' %}"></script>
    <script src="{% static 'lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'lib/waypoints/waypoints.min.js' %}"></script>
    <script src="{% static 'lib/counterup/counterup.min.js' %}"></script>
    <script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>
    <script src="{% static 'lib/tempusdominus/js/moment.min.js' %}"></script>
    <script src="{% static 'lib/tempusdominus/js/moment-timezone.min.js' %}"></script>
    <script src="{% static 'lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js' %}"></script>

    <!-- Template Javascript -->
    <script src="{% static 'js/main.js' %}"></script>
</body>

</html>